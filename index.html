<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
      canvas {
        border: 1px solid #9C9898;
      }
    </style>
    <script src="http://www.html5canvastutorials.com/libraries/kinetic-v4.0.0.js"></script>
    <script>
    window.onload = function() {
        var stage = new Kinetic.Stage({
          container: "container",
          width: 480,
          height: 640
        });
		
        var layer = new Kinetic.Layer();

		//createIcon(stage, layer, 200, 200, 57, "icon.svg");
		//createIcon(stage, layer, 300, 200, 57, "icon.svg");
		
		var x = 300;
		var y = 300;
		
		
		var group = new Kinetic.Group({
			draggable : true
		});
		
		var label = new Kinetic.Text({
			x: x,
			y: y,
			text: "foo",
			fontSize: 12,
			fontFamily: "Calibri",
			textFill: "black"
		});
		
		var img = new Kinetic.Image({
			image : new Image();
		});
			
			group.on("touchstart mousedown", function() {
				this.transitionTo({
					scale: {
						x: 1.05,
						y: 1.05
					},
					duration: 0.5,
					easing: "elastic-ease-out"
				});
			});
			group.on("touchend mouseup", function() {
				this.transitionTo({
					scale: {
						x: 1,
						y: 1
					},
					duration: 0.5,
					easing: "elastic-ease-out"
				});
			});
			
			group.add(label);
			layer.add(group);
			stage.add(layer);
	}
	  
	function createIcon(stage, layer, x, y, size, filePath) {
		var imageObj = new Image();
		imageObj.src = filePath;
        imageObj.onload = function() {
			var icon = new Kinetic.Image({
				x: x,
				y: y,
				image: imageObj,
				width: size,
				height: size,
				draggable : true
			});
			layer.add(icon);
			
			icon.on("touchstart mousedown", function() {
				this.transitionTo({
					scale: {
						x: 1.05,
						y: 1.05
					},
					duration: 0.5,
					easing: "elastic-ease-out"
				});
			});
			icon.on("touchend mouseup", function() {
				this.transitionTo({
					scale: {
						x: 1,
						y: 1
					},
					duration: 0.5,
					easing: "elastic-ease-out"
				});
			});
			var simpleText = new Kinetic.Text({
			  x: x,
			  y: y,
			  text: "foo",
			  fontSize: 12,
			  fontFamily: "Calibri",
			  textFill: "black"
			});
			
			layer.add(simpleText);
			
		    stage.add(layer);
		}
	}

    </script>
  </head>
  <body onmousedown="return false;">
    <div id="container"></div>
  </body>
</html>